<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî –ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –ü–æ–±–µ–¥—ã</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: #0f172a;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }
        
        h1 {
            color: #d4a017;
            font-size: 2rem;
            margin-bottom: 10px;
            text-align: center;
        }
        
        .subtitle {
            color: #8a9aac;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .diagram-container {
            background: #1e293b;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            max-width: 1200px;
            width: 100%;
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
        }
        
        .instructions {
            margin-top: 30px;
            padding: 20px;
            background: rgba(212, 160, 23, 0.1);
            border: 1px solid rgba(212, 160, 23, 0.3);
            border-radius: 8px;
            color: #d4a017;
            max-width: 600px;
            text-align: center;
        }
        
        .instructions code {
            background: rgba(0,0,0,0.3);
            padding: 2px 8px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <h1>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã ¬´–ù–∞—Å–ª–µ–¥–Ω–∏–∫–∏ –ü–æ–±–µ–¥—ã¬ª</h1>
    <p class="subtitle">Frontend ‚Üî Backend API ‚Üî PostgreSQL ‚Üî S3 Storage</p>
    
    <div class="diagram-container">
        <div class="mermaid">
flowchart TB
    subgraph client ["üñ•Ô∏è Frontend - React SPA (Vite)"]
        Landing["üè† –õ–µ–Ω–¥–∏–Ω–≥"]
        Auth["üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è"]
        StudentDashboard["üë®‚Äçüéì –õ–ö –£—á–∞—Å—Ç–Ω–∏–∫–∞"]
        ExpertDashboard["üë®‚Äçüè´ –õ–ö –≠–∫—Å–ø–µ—Ä—Ç–∞"]
        AdminDashboard["üë®‚Äçüíº –õ–ö –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞"]
    end
    
    subgraph server ["‚öôÔ∏è Backend - NestJS"]
        API["üåê REST API"]
        AuthModule["üîë Auth Module"]
        UsersModule["üë• Users Module"]
        WorksModule["üìÑ Works Module"]
        RatingsModule["‚≠ê Ratings Module"]
        MailModule["üìß Mail Module"]
        SettingsModule["‚öôÔ∏è Settings Module"]
    end
    
    subgraph storage ["üíæ –•—Ä–∞–Ω–∏–ª–∏—â–∞ (Timeweb Cloud)"]
        PostgreSQL[("üêò PostgreSQL\nManaged DB")]
        S3[("üì¶ Object Storage\nS3 Protocol")]
    end
    
    subgraph external ["üåç –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã"]
        SMTP["üì¨ SMTP Server"]
    end
    
    client -->|"HTTPS\nJWT Auth"| API
    
    API --> AuthModule
    API --> UsersModule
    API --> WorksModule
    API --> RatingsModule
    API --> SettingsModule
    
    AuthModule --> PostgreSQL
    UsersModule --> PostgreSQL
    WorksModule --> PostgreSQL
    RatingsModule --> PostgreSQL
    SettingsModule --> PostgreSQL
    
    WorksModule -->|"Stream Upload\nPresigned URL"| S3
    
    AuthModule --> MailModule
    WorksModule --> MailModule
    MailModule --> SMTP
        </div>
    </div>
    
    <div class="instructions">
        <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong> –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–∞–∫ PNG, –Ω–∞–∂–º–∏—Ç–µ <code>Cmd+Shift+4</code> (Mac) 
        –∏–ª–∏ <code>Win+Shift+S</code> (Windows) –∏ –≤—ã–¥–µ–ª–∏—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—É.
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#1a3a5c',
                primaryTextColor: '#ffffff',
                primaryBorderColor: '#d4a017',
                lineColor: '#8a9aac',
                secondaryColor: '#2d3748',
                tertiaryColor: '#1e293b',
                background: '#0f172a',
                mainBkg: '#1e293b',
                nodeBorder: '#d4a017',
                clusterBkg: '#1e293b',
                clusterBorder: '#d4a017',
                titleColor: '#d4a017',
                edgeLabelBackground: '#1e293b'
            },
            flowchart: {
                curve: 'basis',
                padding: 20,
                nodeSpacing: 50,
                rankSpacing: 80,
                htmlLabels: true
            }
        });
    </script>
</body>
</html>
